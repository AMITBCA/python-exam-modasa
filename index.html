<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>BCA College Modasa | Professional Exam Portal</title>
    
    <!-- External Libraries -->
    <script src="https://cdn.tailwindcss.com"></script>
    <script src="https://unpkg.com/react@18/umd/react.production.min.js"></script>
    <script src="https://unpkg.com/react-dom@18/umd/react-dom.production.min.js"></script>
    <script src="https://unpkg.com/@babel/standalone/babel.min.js"></script>
    <script src="https://unpkg.com/lucide@latest"></script>
    
    <!-- PDF Generation Libraries -->
    <script src="https://cdnjs.cloudflare.com/ajax/libs/jspdf/2.5.1/jspdf.umd.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/jspdf-autotable/3.5.25/jspdf.plugin.autotable.min.js"></script>

    <style>
        @import url('https://fonts.googleapis.com/css2?family=Inter:wght@300;400;500;600;700;800&family=Plus+Jakarta+Sans:wght@400;700;800&display=swap');
        
        :root { --header-height: 70px; }
        @media (min-width: 768px) { :root { --header-height: 80px; } }

        body { 
            font-family: 'Inter', sans-serif; 
            background-color: #030712; 
            color: #f1f5f9;
            -webkit-font-smoothing: antialiased;
            scroll-padding-top: var(--header-height);
            margin: 0;
            overflow-x: hidden;
            /* Security: Rok-tok for copying text */
            user-select: none;
            -webkit-user-select: none;
        }

        .heading-font { font-family: 'Plus Jakarta Sans', sans-serif; }

        .custom-scroll::-webkit-scrollbar { width: 4px; }
        .custom-scroll::-webkit-scrollbar-track { background: #020617; }
        .custom-scroll::-webkit-scrollbar-thumb { background: #334155; border-radius: 10px; }

        .header-glass {
            background: rgba(15, 23, 42, 0.95);
            backdrop-filter: blur(16px);
            border-bottom: 1px solid rgba(255, 255, 255, 0.1);
        }

        .header-fixed {
            position: fixed;
            top: 0; left: 0; right: 0;
            height: var(--header-height);
            z-index: 100;
        }

        .main-container {
            margin-top: var(--header-height);
            padding-top: 1rem;
            min-height: calc(100vh - var(--header-height));
            position: relative;
            z-index: 10;
        }

        .readable-card {
            background: rgba(23, 31, 48, 0.8);
            border: 1px solid rgba(255, 255, 255, 0.12);
            backdrop-filter: blur(24px);
            box-shadow: 0 25px 50px -12px rgba(0, 0, 0, 0.7);
        }

        .input-field {
            background: rgba(10, 15, 28, 0.9);
            border: 1px solid rgba(255, 255, 255, 0.2);
            color: #ffffff;
            transition: all 0.2s ease;
        }
        .input-field:focus {
            border-color: #3b82f6;
            box-shadow: 0 0 0 4px rgba(59, 130, 246, 0.2);
        }

        .gradient-btn {
            background: linear-gradient(135deg, #2563eb 0%, #1d4ed8 100%);
            transition: all 0.3s cubic-bezier(0.4, 0, 0.2, 1);
        }
        .gradient-btn:hover { transform: translateY(-2px); filter: brightness(1.1); }

        .blob {
            position: absolute; width: 300px; height: 300px;
            background: radial-gradient(circle, rgba(59, 130, 246, 0.08) 0%, transparent 70%);
            border-radius: 50%; z-index: -1; pointer-events: none;
        }

        @keyframes fadeIn { from { opacity: 0; transform: translateY(10px); } to { opacity: 1; transform: translateY(0); } }
        .animate-fade-in { animation: fadeIn 0.4s ease-out forwards; }
    </style>
</head>
<body class="min-h-screen custom-scroll overflow-y-auto relative no-select">
    <div class="blob top-0 left-0"></div>
    <div class="blob bottom-0 right-0"></div>
    <div id="root"></div>

    <!-- Global Security Script (Anti-Cheat) -->
    <script>
        // Right click block karne ke liye
        document.addEventListener('contextmenu', e => e.preventDefault());
        
        // Inspect element shortcut block karne ke liye
        document.onkeydown = function(e) {
            if (e.keyCode == 123 || (e.ctrlKey && e.shiftKey && (e.keyCode == 73 || e.keyCode == 74)) || (e.ctrlKey && e.keyCode == 85)) {
                return false;
            }
        };
    </script>

    <script type="text/babel" data-type="module">
        const { useState, useEffect, useMemo, useRef } = React;

        const QUESTION_POOL = [
            { q: "Who is the primary developer of the Python programming language?", options: ["Guido van Rossum", "Dennis Ritchie", "Bjarne Stroustrup", "James Gosling"], correct: 0 },
            { q: "In which year was Python first released?", options: ["1989", "1991", "1995", "2000"], correct: 1 },
            { q: "Which function is used to display text on the screen?", options: ["output()", "display()", "print()", "write()"], correct: 2 },
            { q: "What is the correct syntax to output 'Hello World' in Python?", options: ["echo 'Hello World'", "print('Hello World')", "printf('Hello World')", "console.log('Hello World')"], correct: 1 },
            { q: "Which function is used to take input from the user?", options: ["get()", "input()", "read()", "scan()"], correct: 1 },
            { q: "What is the default return type of the input() function?", options: ["Integer", "Float", "String", "Boolean"], correct: 2 },
            { q: "How do you create a comment in Python?", options: ["// Comment", "/* Comment */", "# Comment", "-- Comment"], correct: 2 },
            { q: "Which statement is used for decision making?", options: ["if", "for", "while", "else"], correct: 0 },
            { q: "What is the correct way to start an 'if' statement in Python?", options: ["if x > 5 then:", "if x > 5:", "if (x > 5)", "if x > 5 {}"], correct: 1 },
            { q: "Which keyword is used to check another condition if the first 'if' is false?", options: ["else if", "elif", "next if", "elseif"], correct: 1 },
            { q: "How is a code block defined in Python?", options: ["Curly Braces", "Indentation", "Parentheses", "Keywords"], correct: 1 },
            { q: "Which loop is used to iterate over a sequence (like a list)?", options: ["while", "for", "do-while", "foreach"], correct: 1 },
            { q: "Which loop repeats as long as a condition is True?", options: ["for", "while", "until", "repeat"], correct: 1 },
            { q: "What will range(5) produce as the starting value?", options: ["1", "0", "5", "None"], correct: 1 },
            { q: "What is the last value produced by range(5)?", options: ["5", "4", "6", "0"], correct: 1 },
            { q: "Which brackets are used to define a List in Python?", options: ["()", "{}", "[]", "<>"], correct: 2 },
            { q: "Lists in Python are:", options: ["Mutable (Changeable)", "Immutable (Unchangeable)", "Fixed size", "Constant"], correct: 0 },
            { q: "Which brackets are used to define a Tuple in Python?", options: ["[]", "{}", "()", "||"], correct: 2 },
            { q: "Tuples in Python are:", options: ["Mutable", "Immutable", "Dynamic", "Undefined"], correct: 1 },
            { q: "How do you access the first element of a list named 'my_list'?", options: ["my_list[1]", "my_list[0]", "my_list{0}", "my_list.first()"], correct: 1 },
            { q: "Which method is used to add an item to the end of a list?", options: ["add()", "insert()", "append()", "extend()"], correct: 2 },
            { q: "Which keyword is used to stop a loop immediately?", options: ["exit", "stop", "break", "continue"], correct: 2 },
            { q: "Which keyword skips the current iteration of a loop?", options: ["skip", "pass", "continue", "break"], correct: 2 },
            { q: "Which operator is used for exponentiation (power)?", options: ["^", "*", "**", "^^"], correct: 2 },
            { q: "What will print(10 // 3) output?", options: ["3.33", "3", "3.0", "4"], correct: 1 }
        ];

        const PythonLogo = () => (
            <svg width="32" height="32" viewBox="0 0 110 110" fill="none" xmlns="http://www.w3.org/2000/svg">
                <path d="M55 3C42.8462 3 32.5385 13.0769 32.5385 25.5385V38.1538H55.4615V41.3846H23.3077C12.0769 41.3846 3 50.4615 3 61.6923V81.3846C3 92.6154 12.0769 101.692 23.3077 101.692H38.5385V86.7692C38.5385 79.8462 43.8462 74.5385 50.7692 74.5385H64.2308C71.1538 74.5385 76.4615 79.8462 76.4615 86.7692V101.692H81.6923C93.9231 101.692 104 91.6154 104 79.1538V66.5385C104 54.0769 93.9231 44 81.6923 44H68.4615V58.9231C68.4615 65.8462 63.1538 71.1538 56.2308 71.1538H42.7692C35.8462 71.1538 30.5385 65.8462 30.5385 58.9231V44H55C67.1538 44 77.4615 33.9231 77.4615 21.4615V8.53846C77.4615 8.53846 76.6154 3 55 3ZM43.3077 13.5385C45.9231 13.5385 48.0769 15.6923 48.0769 18.3077C48.0769 20.9231 45.9231 23.0769 43.3077 23.0769C40.6923 23.0769 38.5385 20.9231 38.5385 18.3077C38.5385 15.6923 40.6923 13.5385 43.3077 13.5385Z" fill="#3776AB"/>
                <path d="M71.4615 66C68.8462 66 66.6923 68.1538 66.6923 70.7692C66.6923 73.3846 68.8462 75.5385 71.4615 75.5385C74.0769 75.5385 76.2308 73.3846 76.2308 70.7692C76.2308 68.1538 74.0769 66 71.4615 66Z" fill="#FFD43B"/>
                <path d="M55 107C67.1538 107 77.4615 96.9231 77.4615 84.4615V71.8462H54.5385V68.6154H86.6923C97.9231 68.6154 107 59.5385 107 48.3077V28.6154C107 17.3846 97.9231 8.30769 86.6923 8.30769H71.4615V23.2308C71.4615 30.1538 66.1538 35.4615 59.2308 35.4615H45.7692C38.8462 35.4615 33.5385 30.1538 33.5385 23.2308V8.30769H28.3077C16.0769 8.30769 6 18.3846 6 30.8462V43.4615C6 55.9231 16.0769 66 28.3077 66H41.5385V51.0769C41.5385 44.1538 46.8462 38.8462 53.7692 38.8462H67.2308C74.1538 38.8462 79.4615 44.1538 79.4615 51.0769V66H55C42.8462 66 32.5385 76.0769 32.5385 88.5385V101.462C32.5385 101.462 33.3846 107 55 107ZM66.6923 96.4615C64.0769 96.4615 61.9231 94.3077 61.9231 91.6923C61.9231 89.0769 64.0769 86.9231 66.6923 86.9231C69.3077 86.9231 71.4615 89.0769 71.4615 91.6923C71.4615 94.3077 69.3077 96.4615 66.6923 96.4615Z" fill="#FFD43B"/>
                <path d="M38.5385 44C41.1538 44 43.3077 41.8462 43.3077 39.2308C43.3077 36.6154 41.1538 34.4615 38.5385 34.4615C35.9231 34.4615 33.7692 36.6154 33.7692 39.2308C33.7692 41.8462 35.9231 44 38.5385 44Z" fill="#3776AB"/>
            </svg>
        );

        const App = () => {
            const [view, setView] = useState('home');
            const [studentData, setStudentData] = useState({ name: '', roll: '' });
            const [examState, setExamState] = useState({ active: false, questions: [], currentIndex: 0, answers: {}, timeLeft: 1500 });
            const [visitedIndices, setVisitedIndices] = useState(new Set());
            const [finalResult, setFinalResult] = useState(null);
            const [currentTime, setCurrentTime] = useState(new Date());
            const [modal, setModal] = useState({ show: false, title: '', message: '', type: 'info' });

            const examEnd = new Date('2025-12-29T12:00:00');

            useEffect(() => {
                const clock = setInterval(() => setCurrentTime(new Date()), 1000);
                return () => clearInterval(clock);
            }, []);

            useEffect(() => {
                if (examState.active) setVisitedIndices(prev => new Set(prev).add(examState.currentIndex));
            }, [examState.currentIndex, examState.active]);

            // PDF Report Generator
            const generatePDF = (data) => {
                try {
                    const { jsPDF } = window.jspdf;
                    const doc = new jsPDF();
                    
                    doc.setFillColor(3, 7, 18);
                    doc.rect(0, 0, 210, 40, 'F');
                    doc.setTextColor(255, 255, 255);
                    doc.setFontSize(18);
                    doc.text("BCA COLLEGE MODASA", 105, 20, { align: "center" });
                    doc.setFontSize(10);
                    doc.text(`Official Python Assessment Report - Prof. Amit Raval`, 105, 30, { align: "center" });
                    
                    doc.setTextColor(0, 0, 0);
                    doc.setFontSize(12);
                    doc.text(`Student Name: ${data.name.toUpperCase()}`, 15, 50);
                    doc.text(`Roll Number: ${data.roll}`, 15, 57);
                    doc.text(`Final Score: ${data.score} / 25`, 160, 50);
                    doc.text(`Date: ${new Date().toLocaleDateString()}`, 160, 57);
                    
                    const tableRows = data.details.map((d, i) => [
                        i + 1,
                        d.question,
                        d.selectedOption,
                        d.correctOption,
                        d.wasCorrect ? "CORRECT" : "WRONG"
                    ]);
                    
                    doc.autoTable({
                        startY: 70,
                        head: [['No.', 'Question', 'Your Answer', 'Correct Answer', 'Status']],
                        body: tableRows,
                        theme: 'grid',
                        headStyles: { fillColor: [37, 99, 235] },
                        styles: { fontSize: 8, cellPadding: 2 }
                    });
                    
                    doc.save(`${data.roll}_Python_Result.pdf`);
                } catch (e) {
                    console.error("PDF generation error:", e);
                }
            };

            const startExam = () => {
                if (currentTime > examEnd) return setModal({ show: true, title: "Portal Closed", message: "Deadline passed on 29-12-2025.", type: "error" });
                if (!studentData.name || !studentData.roll) return setModal({ show: true, title: "Input Required", message: "Please enter Name and Roll Number to enter the exam.", type: "error" });

                setExamState({ 
                    active: true, 
                    questions: [...QUESTION_POOL].sort(() => Math.random() - 0.5), 
                    currentIndex: 0, 
                    answers: {}, 
                    timeLeft: 1500 
                });
                setVisitedIndices(new Set([0]));
                setView('exam');
            };

            const submitExam = (auto = false) => {
                if (!auto && !confirm("Do you want to finalize assessment and generate report?")) return;
                
                let score = 0;
                const examDetails = examState.questions.map((q, idx) => {
                    const selectedIdx = examState.answers[idx];
                    const isCorrect = selectedIdx === q.correct;
                    if (isCorrect) score++;
                    return {
                        question: q.q,
                        selectedOption: selectedIdx !== undefined ? q.options[selectedIdx] : "Skipped",
                        correctOption: q.options[q.correct],
                        wasCorrect: isCorrect
                    };
                });

                const resultObj = {
                    name: studentData.name,
                    roll: studentData.roll,
                    score,
                    details: examDetails
                };

                setFinalResult(resultObj);
                setExamState(prev => ({ ...prev, active: false }));
                setView('result');
                generatePDF(resultObj);
            };

            useEffect(() => {
                if (examState.active && examState.timeLeft > 0) {
                    const timer = setInterval(() => {
                        setExamState(prev => {
                            if (prev.timeLeft <= 1) { clearInterval(timer); submitExam(true); return { ...prev, timeLeft: 0 }; }
                            return { ...prev, timeLeft: prev.timeLeft - 1 };
                        });
                    }, 1000);
                    return () => clearInterval(timer);
                }
            }, [examState.active]);

            useEffect(() => { if (typeof lucide !== 'undefined') lucide.createIcons(); });

            return (
                <div className="min-h-screen flex flex-col">
                    {/* NAV HEADER */}
                    <header className="fixed top-0 left-0 right-0 z-50 header-glass px-4 md:px-6 py-4 flex justify-between items-center shadow-lg header-fixed">
                        <div className="flex items-center gap-3 cursor-pointer" onClick={() => setView('home')}>
                            <div className="w-10 h-10 bg-blue-600/10 rounded-lg flex items-center justify-center border border-blue-500/20">
                                <PythonLogo />
                            </div>
                            <div>
                                <h1 className="text-white font-extrabold text-xs md:text-lg leading-none uppercase tracking-tight heading-font italic">BCA <span className="hidden sm:inline">COLLEGE</span> <span className="text-blue-400">MODASA</span></h1>
                                <p className="text-slate-500 text-[8px] md:text-[10px] uppercase font-bold mt-1 tracking-widest italic opacity-70 text-left">Prof. Amit Raval</p>
                            </div>
                        </div>
                        <div className="flex items-center gap-4 border-l border-white/10 pl-4">
                            <i data-lucide="shield-check" className="text-blue-500 w-5 h-5"></i>
                            <div className="text-right hidden sm:block">
                                <p className="text-[10px] font-bold text-slate-500 uppercase tracking-widest leading-none">Security Status</p>
                                <p className="text-[10px] font-mono font-bold text-blue-500 uppercase">Secure Examination Node</p>
                            </div>
                        </div>
                    </header>

                    <main className="main-container flex-1 flex flex-col max-w-7xl mx-auto w-full px-4 md:px-6 text-left">
                        
                        {/* VIEW: HOME */}
                        {view === 'home' && (
                            <div className="flex flex-col items-center justify-center text-center my-auto animate-fade-in py-10">
                                <div className="inline-flex items-center gap-2 px-4 py-1.5 rounded-full bg-blue-600/10 border border-blue-500/20 text-blue-400 text-[8px] md:text-[10px] font-black uppercase mb-8 md:mb-12 tracking-widest">
                                    <i data-lucide="award" className="w-3 h-3 md:w-4 md:h-4 fill-blue-400"></i> Official Examination Node
                                </div>
                                <h1 className="text-4xl md:text-8xl lg:text-9xl font-black text-white mb-6 md:mb-8 tracking-tighter leading-none heading-font italic uppercase italic text-center">BCA <span className="text-blue-500 uppercase">Modasa.</span></h1>
                                
                                <div className="bg-red-500/10 border border-red-500/20 p-4 md:p-6 rounded-2xl md:rounded-3xl mb-8 md:mb-12 max-w-2xl mx-auto backdrop-blur-md">
                                    <div className="flex items-center justify-center gap-2 text-red-500 mb-2 font-black uppercase tracking-widest text-[8px] md:text-[10px]">
                                        <i data-lucide="alert-circle" className="w-4 h-4"></i> Important Notice
                                    </div>
                                    <p className="text-slate-300 text-xs md:text-base font-semibold italic text-center">
                                        Examination session window ends on <span className="text-white underline decoration-red-500 underline-offset-4 font-bold">29-12-2025 at 12:00 PM</span>.
                                    </p>
                                </div>

                                <p className="text-slate-400 text-sm md:text-2xl max-w-3xl mx-auto mb-10 md:mb-16 leading-relaxed font-medium opacity-70 uppercase italic text-center">Semester 4 Official Python Programming Examination. <br/> Managed by Professor Amit Raval.</p>
                                
                                <button onClick={() => setView('student-form')} className="px-10 py-4 md:px-20 md:py-8 gradient-btn text-white font-bold rounded-xl md:rounded-3xl shadow-xl text-xs md:text-lg active:scale-95 transition-all uppercase tracking-widest italic">Start Examination</button>
                            </div>
                        )}

                        {/* VIEW: LOGIN FORM */}
                        {view === 'student-form' && (
                            <div className="max-w-xl mx-auto mt-6 md:mt-10 w-full animate-fade-in pb-10">
                                <div className="readable-card p-8 md:p-20 rounded-3xl md:rounded-[5rem] relative shadow-2xl border-t-blue-500/40 text-center">
                                    <h2 className="text-4xl md:text-6xl font-black text-white mb-2 md:mb-4 uppercase italic leading-none italic text-center">Login</h2>
                                    <p className="text-blue-400 font-black tracking-widest text-[8px] md:text-xs uppercase italic opacity-70 mb-10 md:mb-20 text-center uppercase font-bold">Student Authentication</p>
                                    <div className="space-y-6 md:y-12 text-left">
                                        <div className="space-y-2 md:space-y-5">
                                            <label className="text-[8px] md:text-xs text-blue-500 font-black uppercase tracking-widest ml-2 block italic text-left">Candidate Name</label>
                                            <input type="text" value={studentData.name} onChange={e => setStudentData({...studentData, name: e.target.value})} className="w-full input-field rounded-xl md:rounded-[2.5rem] p-4 md:p-8 text-sm md:text-2xl outline-none shadow-xl uppercase font-semibold" placeholder="Enter Full Name" />
                                        </div>
                                        <div className="space-y-2 md:space-y-5">
                                            <label className="text-[8px] md:text-xs text-blue-500 font-black uppercase tracking-widest ml-2 block italic text-left">Roll Number</label>
                                            <input type="text" value={studentData.roll} onChange={e => setStudentData({...studentData, roll: e.target.value})} className="w-full input-field rounded-xl md:rounded-[2.5rem] p-4 md:p-8 text-sm md:text-2xl font-mono outline-none shadow-xl uppercase font-bold" placeholder="ID (e.g. 50)" />
                                        </div>
                                        <button onClick={startExam} className="w-full py-5 md:py-10 gradient-btn text-white font-black rounded-xl md:rounded-[4rem] text-[10px] md:text-sm mt-4 md:mt-10 active:scale-95 italic transition-all shadow-xl">Start Exam</button>
                                    </div>
                                </div>
                            </div>
                        )}

                        {/* VIEW: EXAM INTERFACE */}
                        {view === 'exam' && (
                            <div className="animate-fade-in no-select w-full pb-10">
                                <div className="header-glass p-4 md:p-8 rounded-2xl md:rounded-[3rem] mb-6 md:mb-12 flex flex-wrap justify-between items-center gap-4 shadow-xl relative">
                                    <div className="flex items-center gap-3 md:gap-6">
                                        <div className="w-10 h-10 md:w-16 md:h-16 bg-blue-600 rounded-lg md:rounded-2xl flex items-center justify-center font-black text-xl md:text-3xl italic text-white shadow-lg">{examState.currentIndex + 1}</div>
                                        <div>
                                            <h3 className="font-black text-white text-xs md:text-2xl tracking-tighter uppercase italic leading-none text-left">{studentData.name}</h3>
                                            <p className="text-[8px] md:text-[10px] text-slate-500 font-black tracking-widest uppercase mt-1 italic text-left">ROLL_ID: {studentData.roll}</p>
                                        </div>
                                    </div>
                                    <div className="flex items-center gap-6 md:gap-12 ml-auto text-right">
                                        <div className="font-mono text-left"><span className={`text-xl md:text-4xl font-black tabular-nums ${examState.timeLeft < 300 ? 'text-red-500 animate-pulse' : 'text-blue-400'}`}>{Math.floor(examState.timeLeft / 60)}:{(examState.timeLeft % 60).toString().padStart(2, '0')}</span></div>
                                        <button onClick={() => submitExam()} className="px-4 py-2 md:px-10 md:py-4 bg-red-600 hover:bg-red-700 text-white rounded-lg md:rounded-2xl font-black uppercase text-[8px] md:text-xs shadow-lg italic transition-all">Finish Exam</button>
                                    </div>
                                </div>

                                <div className="grid grid-cols-1 lg:grid-cols-4 gap-6 md:gap-12 text-left">
                                    <div className="lg:col-span-3 space-y-6 md:space-y-12 text-left">
                                        <div className="readable-card p-6 md:p-16 rounded-3xl md:rounded-[5rem] shadow-xl min-h-[350px] md:min-h-[600px] flex flex-col border-t-blue-500/30 text-left">
                                            <div className="flex items-center gap-4 mb-6 md:mb-12 border-b border-white/5 pb-4 text-left"><p className="text-blue-400 font-mono text-[8px] md:text-xs font-black tracking-widest uppercase italic underline decoration-blue-500 underline-offset-4 text-left">Saval {examState.currentIndex + 1} of 25</p></div>
                                            <h2 className="text-lg md:text-4xl font-black leading-snug mb-8 md:mb-16 text-white italic tracking-tight text-left">{examState.questions[examState.currentIndex]?.q}</h2>
                                            <div className="grid grid-cols-1 gap-3 md:gap-6 mt-auto text-left">
                                                {examState.questions[examState.currentIndex]?.options.map((opt, i) => (
                                                    <button key={i} onClick={() => setExamState({...examState, answers: {...examState.answers, [examState.currentIndex]: i}})} className={`w-full p-4 md:p-8 text-left rounded-2xl md:rounded-[3rem] border-2 transition-all flex justify-between items-center group ${examState.answers[examState.currentIndex] === i ? 'bg-blue-600 border-blue-400 text-white scale-[1.01]' : 'bg-slate-900 border-white/5 text-slate-400 hover:bg-slate-800'}`}>
                                                        <span className="font-black text-xs md:text-2xl tracking-tighter uppercase italic text-left leading-tight">{opt}</span>
                                                        <div className={`w-5 h-5 md:w-8 md:h-8 rounded-full border-2 flex items-center justify-center ${examState.answers[examState.currentIndex] === i ? 'border-white bg-blue-500 shadow-lg' : 'border-slate-800 bg-slate-950'}`}>
                                                            {examState.answers[examState.currentIndex] === i && <div className="w-2.5 h-2.5 md:w-4 md:h-4 bg-white rounded-full shadow-lg"></div>}
                                                        </div>
                                                    </button>
                                                ))}
                                            </div>
                                        </div>
                                        <div className="flex justify-between items-center px-2 md:px-10">
                                            <button disabled={examState.currentIndex === 0} onClick={() => setExamState({...examState, currentIndex: examState.currentIndex - 1})} className="px-6 py-3 md:px-12 md:py-6 bg-slate-900 text-white rounded-full flex items-center gap-2 md:gap-6 font-black text-[10px] md:text-xs disabled:opacity-20 uppercase tracking-widest italic border border-white/5 active:scale-95">Prev</button>
                                            <button disabled={examState.currentIndex === 24} onClick={() => setExamState({...examState, currentIndex: examState.currentIndex + 1})} className="px-6 py-3 md:px-12 md:py-6 bg-slate-900 text-white rounded-full flex items-center gap-2 md:gap-6 font-black text-[10px] md:text-xs disabled:opacity-20 uppercase tracking-widest italic border border-white/5 active:scale-95">Next</button>
                                        </div>
                                    </div>

                                    <div className="lg:col-span-1 space-y-8 md:space-y-16 h-fit lg:sticky lg:top-32 text-left">
                                        <div className="readable-card p-6 md:p-10 rounded-3xl md:rounded-[3.5rem] shadow-xl text-left">
                                            <div className="flex items-center gap-3 mb-6 md:mb-10 border-b border-white/10 pb-4 text-left"><i data-lucide="layout-grid" className="w-5 h-5 md:w-6 md:h-6 text-blue-500"></i><h4 className="font-black text-slate-100 text-[10px] md:text-xs uppercase tracking-widest italic text-left">Matrix Map</h4></div>
                                            <div className="grid grid-cols-5 gap-2 md:gap-4">
                                                {examState.questions.map((_, i) => {
                                                    const isSelected = examState.answers[i] !== undefined;
                                                    const isVisited = visitedIndices.has(i);
                                                    const isCurrent = examState.currentIndex === i;
                                                    let statusClass = "bg-slate-950/50 border-white/10 text-slate-600";
                                                    if (isSelected) statusClass = "bg-green-600 border-green-500 text-white shadow-lg";
                                                    else if (isVisited && !isCurrent) statusClass = "bg-red-600/80 border-red-500 text-white shadow-lg";
                                                    if (isCurrent) statusClass += " border-blue-400 text-blue-400 bg-blue-500/20 scale-110 z-10 shadow-blue-500/40";
                                                    return ( <button key={i} onClick={() => setExamState({...examState, currentIndex: i})} className={`w-full aspect-square rounded-lg md:rounded-xl text-[10px] md:text-xs font-black border-2 transition-all flex items-center justify-center font-mono ${statusClass}`}>{i + 1}</button> );
                                                })}
                                            </div>
                                        </div>
                                    </div>
                                </div>
                            </div>
                        )}

                        {/* VIEW: RESULT AND PDF DOWNLOAD */}
                        {view === 'result' && (
                            <div className="max-w-4xl mx-auto mt-4 md:mt-10 animate-fade-in w-full pb-20 text-center flex-1 flex flex-col justify-center">
                                <div className="readable-card p-10 md:p-24 rounded-3xl md:rounded-[6rem] shadow-2xl border-t-blue-500/40 relative overflow-hidden text-center">
                                    <div className="mb-10 md:mb-16">
                                        <i data-lucide="award" className="w-24 h-24 md:w-40 md:h-40 text-yellow-500 mx-auto drop-shadow-[0_0_50px_rgba(234,179,8,0.5)] animate-bounce"></i>
                                    </div>
                                    <h2 className="text-4xl md:text-8xl font-black text-white mb-4 md:mb-8 uppercase italic leading-none tracking-tighter">Your Score</h2>
                                    <div className="text-7xl md:text-[12rem] font-black text-blue-500 italic tracking-tighter leading-none mb-10 md:mb-16 drop-shadow-2xl">
                                        {finalResult?.score}<span className="text-2xl md:text-4xl text-slate-500 opacity-50 uppercase ml-4">/ 25</span>
                                    </div>
                                    
                                    <div className="space-y-6 md:space-y-8 mb-16 text-center">
                                        <p className="text-xl md:text-4xl font-bold text-white uppercase tracking-tight italic text-center">{finalResult?.name}</p>
                                        <div className="bg-blue-600/10 border border-blue-500/20 py-4 px-8 rounded-full inline-block">
                                            <p className="text-blue-400 font-mono text-sm md:text-xl font-black uppercase tracking-[0.3em]">ID: {finalResult?.roll}</p>
                                        </div>
                                    </div>

                                    <div className="flex flex-col sm:flex-row gap-6 justify-center">
                                        <button onClick={() => generatePDF(finalResult)} className="px-10 py-5 bg-blue-600 hover:bg-blue-700 text-white font-black rounded-2xl shadow-xl transition-all active:scale-95 uppercase tracking-widest text-[10px] italic flex items-center gap-3 justify-center">
                                            <i data-lucide="download" size={16}></i> Download Full Marksheet (PDF)
                                        </button>
                                        <button onClick={() => setView('home')} className="px-10 py-5 bg-slate-900 border border-white/10 text-white font-black rounded-2xl shadow-xl hover:bg-slate-800 transition-all active:scale-95 uppercase tracking-widest text-[10px] italic">Return to Home</button>
                                    </div>
                                    
                                    <p className="mt-12 text-slate-500 text-[10px] font-bold uppercase tracking-[0.2em] italic">Note: Scorecard with detailed answers generated locally.</p>
                                </div>
                            </div>
                        )}
                    </main>
                    
                    {/* CLASSIC INSTITUTIONAL FOOTER */}
                    <footer className="mt-auto border-t-2 border-blue-500/20 py-10 md:py-20 bg-slate-950/90 backdrop-blur-xl relative z-20 text-left">
                        <div className="max-w-7xl mx-auto px-6 md:px-10 grid grid-cols-1 md:grid-cols-2 gap-10 text-left">
                            <div className="space-y-4 text-left">
                                <div className="flex items-center gap-3">
                                    <div className="w-8 h-8 md:w-10 md:h-10 bg-blue-600/20 rounded-lg flex items-center justify-center p-1 overflow-hidden"><PythonLogo /></div>
                                    <h3 className="text-lg md:text-2xl font-black tracking-tighter text-white uppercase italic leading-none text-left">BCA MODASA</h3>
                                </div>
                                <p className="text-slate-400 text-[10px] md:text-sm leading-relaxed italic text-left">Official standalone academic examination gateway. All reports are processed locally for integrity.</p>
                            </div>
                            <div className="space-y-4 md:text-right text-left">
                                <h4 className="text-[10px] font-black uppercase tracking-widest text-blue-500 italic">Faculty Lead</h4>
                                <div className="flex flex-col md:items-end gap-2 text-left">
                                    <div className="flex items-center gap-3 text-slate-400 text-[10px] md:text-sm font-mono"><i data-lucide="phone" className="w-4 h-4 text-blue-500"></i><span>+91 9638143173</span></div>
                                    <p className="text-[8px] md:text-[10px] font-black uppercase tracking-widest text-slate-600 italic uppercase">"Logic thi Lakshya sudhi, Digital Bharat banaviye"</p>
                                </div>
                            </div>
                        </div>
                    </footer>
                </div>
            );
        };

        const root = ReactDOM.createRoot(document.getElementById('root'));
        root.render(<App />);

        window.addEventListener('load', () => { if (typeof lucide !== 'undefined') lucide.createIcons(); });
        window.addEventListener('resize', () => { if (typeof lucide !== 'undefined') lucide.createIcons(); });
    </script>
</body>
</html>
